/*!
 * Components.js v4.0.1
 * (c) 2021 compo.js@mail.ru
 * Released under the MIT License.
 */
!function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=19)}([function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(12),o=n(13),i=n(14),c=n(15);t.exports=function(t){return r(t)||o(t)||i(t)||c()}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(7);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(6),o=n(0);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n},function(n,t){function r(t,e){return n.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.exports=r},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(e,t,n){var r=n(2),o=n(7),i=n(16),c=n(17);function a(t){var n="function"==typeof Map?new Map:void 0;return e.exports=a=function(t){if(null===t||!i(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return c(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)},a(t)}e.exports=a},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(8);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var r=n(8);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(r,t,e){var o=e(7),i=e(18);function c(t,e,n){return i()?r.exports=c=Reflect.construct:r.exports=c=function(t,e,n){var r=[null];r.push.apply(r,e);r=new(Function.bind.apply(t,r));return n&&o(r,n.prototype),r},c.apply(null,arguments)}r.exports=c},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}},function(t,e,n){"use strict";n.r(e);var r=n(3),i=n.n(r),e=n(4),c=n.n(e),r=n(5),o=n.n(r),e=n(2),a=n.n(e),r=n(1),u=n.n(r),e=n(9),s=n.n(e),r=n(0),l=n.n(r),e=n(10),r=n.n(e),e=n(11),f=n.n(e),e=n(6),d=n.n(e);function h(t){return 8===t.nodeType||3===t.nodeType&&!t.data.trim()?t.remove():(u()(t.childNodes).forEach(h),t)}var p=/^on/;function g(t){if(8===t.nodeType||3===t.nodeType&&!t.data.trim())return t.remove();var e,n=O.get(this).nodes[O.get(this).nodes.length-1]||this.$root,r=t[2===t.nodeType?"value":"data"];if(2===t.nodeType||3===t.nodeType){"c-for"===t.nodeName?(O.get(this).values.set(t,t.value),e=new DocumentFragment,u()(h(t.ownerElement).childNodes).forEach(function(t){return e.append(t)}),O.get(this).values.set(t.ownerElement,e)):(O.get(this).sources.has(n)||O.get(this).sources.set(n,{}),O.get(this).sources.get(n)[r]||("c-hide"===t.nodeName?O.get(this).sources.get(n)[r]=O.get(this).execute.next("()=>`${".concat(t.value,"}`")).value:O.get(this).sources.get(n)[r]=O.get(this).execute.next("()=>`".concat(r,"`")).value),O.get(this).values.set(t,O.get(this).sources.get(n)[r])),p.test(t.nodeName)&&Object.defineProperty(t.ownerElement,"$data",{value:this.$data});var o=v.call(this,t);"c-for"!==t.nodeName&&"c-hide"!==t.nodeName&&r===o[2===o.nodeType?"value":"data"]&&(delete O.get(this).sources.get(n)[r],O.get(this).values.delete(t))}else{if(t.attributes){for(var i=0,c=t.attributes.length;i<c;i++)g.call(this,t.attributes[i]);if(t.attributes["c-for"])return t}for(var a=0;a<t.childNodes.length;a++)g.call(this,t.childNodes[a])||a--}return t}function y(t){if(2===t.nodeType||3===t.nodeType)v.call(this,t);else{if(t.attributes){for(var e=0,n=t.attributes.length;e<n;e++)y.call(this,t.attributes[e]);if(t.attributes["c-for"])return}for(var r=0;r<t.childNodes.length;r++)y.call(this,t.childNodes[r])}}var v=function(t){if(O.get(this).nodes.push(t),"c-hide"===t.nodeName)switch(O.get(this).execute.next(O.get(this).values.get(t)).value){case"false":case"undefined":case"null":case"0":case"-0":case"NaN":case"":t.ownerElement.removeAttribute("hidden");break;default:t.ownerElement.setAttribute("hidden","")}else if("c-for"===t.nodeName){var e;O.get(this).index.set(t.ownerElement,0),O.get(this).iterators.has(t)?(e=O.get(this).execute,O.get(this).execute=O.get(this).iterators.get(t).inner,O.get(this).iterators.get(t).outer.next(),O.get(this).execute=e):(e=O.get(this).execute,O.get(this).iterators.set(t,{outer:e.next('(function*(){arguments[0]=yield function*(){while(true)arguments[0]=yield typeof arguments[0]==="function"?arguments[0]():eval(arguments[0])'+"};while(true){yield,({".concat(Object.keys(this.$data).join(","),"}=this);for(var ").concat(O.get(this).values.get(t),")arguments[0]()}")+"})").value.call(this.$data)}),O.get(this).execute=O.get(this).iterators.get(t).outer.next().value.call(this.$data),O.get(this).execute.next(),O.get(this).iterators.get(t).outer.next(function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:O.get(this).index.get(t),n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:O.get(this).values.get(t);if(3<arguments.length&&void 0!==arguments[3]?arguments[3]:t.childNodes[e])for(var r=0;r<n.childNodes.length;r++)y.call(this,t.childNodes[r+e]);else t.append(g.call(this,n.cloneNode(!0)));O.get(this).index.set(t,e+n.childNodes.length)}.bind(this,t.ownerElement)),O.get(this).iterators.get(t).outer.next(),O.get(this).iterators.get(t).inner=O.get(this).execute,O.get(this).execute=e);for(var n=O.get(this).index.get(t.ownerElement),r=t.ownerElement.childNodes.length;n<r;n++)t.ownerElement.lastChild.remove();O.get(this).index.delete(t)}else t[2===t.nodeType?"value":"data"]=O.get(this).values.has(t)?O.get(this).execute.next(O.get(this).values.get(t)).value:t[2===t.nodeType?"value":"data"];return O.get(this).nodes.pop(),t},m=Symbol(),b=new Set(["push","pop","shift","unshift","splice","sort","reverse"]);function x(e){var n=this;e.forEach(function(t){clearTimeout(O.get(n).timers.get(t)),O.get(n).values.has(t)?O.get(n).timers.set(t,setTimeout(function(){return O.get(n).timers.delete(v.call(n,t))},0)):e.delete(t)})}function w(c){var a=this;return{apply:function(t,e,n){var r=O.get(a).nodes[0];if(c&&r&&c.add(r),"toString"===t.name)return JSON.stringify(e,function(t,e){return"object"===d()(e)&&e.hasOwnProperty(Symbol.toPrimitive)?e[Symbol.toPrimitive]():e}," ");if(Array.isArray(e)){O.get(a).isKeys=!0;r=t.apply(e,n);return O.get(a).isKeys=!1,c&&x.call(a,c),r}return t.apply(e,n)},get:function(t,e,n){if(e===m)return!0;var r=Reflect.get(t,e,n);if("toString"===e||Array.isArray(t)&&b.has(e))return new Proxy(r,w.call(a,c));if(!t.hasOwnProperty(e))return r;var o=O.get(a).nodes[0];c&&o&&c.add(o);var i=O.get(a).depends.get(t);return i||O.get(a).depends.set(t,i={}),i.hasOwnProperty(e)||(i[e]=new Set),r&&"object"===d()(r)||"function"==typeof r?O.get(a).proxys.has(r)?O.get(a).proxys.get(r):$.call(a,r,i[e]):o?f()({},Symbol.toPrimitive,function(){return i[e].add(o),r}):r},set:function(t,e,n,r){var o=Reflect.get(t,e,r);if(t.hasOwnProperty(e)&&n===o)return!0;if(O.get(a).depends.delete(o),O.get(a).proxys.delete(o),!Reflect.set(t,e,n,r))return!1;if(O.get(a).isKeys)return!0;if(O.get(a).nodes.length)return!0;t=O.get(a).depends.get(t);if(!t)return!0;e=t[e]||c;return e&&x.call(a,e),!0}}}function $(t,e){return Reflect.get(t,m)?t:O.get(this).proxys.set(t,new Proxy(t,w.call(this,e))).get(t)}function E(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:location;t.forEach(function(t){new RegExp("^[/]?".concat(t.type,"$")).test(e.href.replace(e.origin,""))&&(Object.defineProperty(t,"target",{value:e,enumerable:!0,writable:!0}),document.dispatchEvent(t))})}function S(t){var e=this;O.get(this).sources.delete(t),O.get(this).values.delete(t),t.attributes&&u()(t.attributes).forEach(function(t){return S.call(e,t)}),t.childNodes&&t.childNodes.forEach(function(t){return S.call(e,t)})}function j(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a()(n);return e=r?(t=a()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),o()(this,e)}}var O=new WeakMap,N={childList:!0,subtree:!0},P=function(t){c()(o,t);var n=j(o);function o(e){var r;i()(this,o),r=n.call(this),O.set(l()(r),{}),O.get(l()(r)).timers=new WeakMap,O.get(l()(r)).sources=new WeakMap,O.get(l()(r)).values=new WeakMap,O.get(l()(r)).depends=new WeakMap,O.get(l()(r)).proxys=new WeakMap,O.get(l()(r)).iterators=new WeakMap,O.get(l()(r)).index=new WeakMap,O.get(l()(r)).object={},O.get(l()(r)).nodes=[],O.get(l()(r)).isKeys=!1,Object.defineProperty(l()(r),"$data",{value:new Proxy($.call(l()(r),O.get(l()(r)).object),{get:function(t,e,n){return Reflect.has(t,e)?Reflect.get(t,e,n):Reflect.get(l()(r),e)}})}),Object.defineProperty(l()(r),"$root",{value:r.attachShadow({mode:e.hasAttribute("closed")?"closed":"open"})}),e=e.content||e;var t=u()(e.querySelectorAll("script")).map(function(t){return e.removeChild(t).innerHTML}).join("");return u()(e.childNodes).forEach(function(t){return r.$root.append(t)}),Function(t).call(r.$data),O.get(l()(r)).execute=Function("return function*(".concat(Object.keys(r.$data).join(","),"){")+"while(true)arguments[0]=yield({".concat(Object.keys(r.$data).join(","),"}=this,typeof arguments[0]==='function'?arguments[0]():eval(arguments[0]))")+"}")().call(r.$data),O.get(l()(r)).execute.next(),g.call(l()(r),r.$root),new MutationObserver(function(t,e){e.disconnect(),t.forEach(function(t){t.removedNodes.forEach(function(t){return S.call(l()(r),t)}),t.target.attributes&&t.target.attributes["c-for"]||u()(t.addedNodes).forEach(function(t){return g.call(l()(r),t)})}),e.observe(r.$root,N)}).observe(r.$root,N),r}return s()(o,[{key:"$",value:function(t){return this.$root.querySelector(t)}},{key:"$$",value:function(t){return this.$root.querySelectorAll(t)}},{key:"connectedCallback",value:function(){var e=this;O.get(this.$root.host).connected&&O.get(this.$root.host).connected.forEach(function(t){return t.call(e.$data)})}},{key:"$connected",value:function(){var e=this;O.get(this.$root.host).connected||(O.get(this.$root.host).connected=new Set);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return O.get(e.$root.host).connected.add(t)})}},{key:"disconnectedCallback",value:function(){var e=this;O.get(this.$root.host).disconnected&&O.get(this.$root.host).disconnected.forEach(function(t){return t.call(e.$data)})}},{key:"$disconnected",value:function(){var e=this;O.get(this.$root.host).disconnected||(O.get(this.$root.host).disconnected=new Set);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return O.get(e.$root.host).disconnected.add(t)})}},{key:"adoptedCallback",value:function(){var e=this;O.get(this.$root.host).adopted&&O.get(this.$root.host).adopted.forEach(function(t){return t.call(e.$data)})}},{key:"$adopted",value:function(){var e=this;O.get(this.$root.host).adopted||(O.get(this.$root.host).adopted=new Set);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return O.get(e.$root.host).adopted.add(t)})}},{key:"$event",value:function(t){return new CustomEvent(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"$router",value:function(t){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=[];return window.addEventListener("popstate",function(){return E(i)}),t.addEventListener("click",function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t.path[0];e.origin!==location.origin||/\.\w+$/.test(e.href)||(t.preventDefault(),history.pushState(null,"",e.href),E(i,e))},o),function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};t instanceof RegExp&&(t=t.toString().slice(1,-1));n=r.$event(t,n);i.push(n),document.addEventListener(t,e),o.start&&E([n])}}}]),o}(r()(HTMLElement));function k(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=a()(n);return e=r?(t=a()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),o()(this,e)}}r=document.querySelector("script[data-compo-name]");function R(t){var e=document.createElement("template");e.innerHTML=t,u()(e.content.children).forEach(function(r){return customElements.define((r.getAttribute("title")||r.nodeName).toLocaleLowerCase(),function(t){c()(n,t);var e=k(n);function n(){return i()(this,n),e.call(this,r.cloneNode(!0))}return n}(P),r.hasAttribute("to")?{extends:r.getAttribute("to").toLocaleLowerCase()}:null)})}r?window[r.dataset.compoName]=R:window.Compo=R,Promise.all(u()(document.querySelectorAll("template[src],template[data-src]")).map(function(t){return fetch((t.attributes.src||t.attributes["data-src"]).value).then(function(t){return t.text()})})).then(function(t){return R(t.join(""))})}]);